(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ZqUk:function(e,t,n){"use strict";var i=n("JX7q"),o=n("dI71"),s=n("q1tI"),a=n.n(s),r=n("+8GM"),c=n("6+t1"),l=n("AeFk"),d=n("g42v"),u=n("/MKj"),m=n("nSJE"),p=n("5oic");var g={name:"1e5gms7",styles:"z-index:110"},h={name:"rumzq0",styles:"position:absolute;z-index:99;top:0px;left:0px;width:100vw;height:100vh"},b={name:"1ielu6o",styles:"position:absolute;right:20px;top:80px;z-index:1000;transition:opacity 0.3s cubic-bezier(0.71, 0.01, 0.45, 1.01);span{pointer-events:none;}.on-pause &{opacity:0;}"},f={name:"13np03v",styles:"position:absolute;right:20px;top:30px;z-index:1000;transition:opacity 0.3s cubic-bezier(0.71, 0.01, 0.45, 1.01);.on-pause &{opacity:0;}"},C={name:"je8g23",styles:"pointer-events:none"},y={name:"bjn8wh",styles:"position:relative"},v=function(e){function t(t){var n;(n=e.call(this,t)||this).storyContCss=function(){return y},n.contentContCss=function(){return Object(l.b)("","")},n.ImgCss=function(){return C},n.contentWrapperCss=function(){return Object(l.b)("&:nth-of-type(",n.currentSlide+1,"){z-index:1;visibility:visible;}&:nth-of-type(n + 2){display:none;}visibility:hidden;position:absolute;width:100vw;height:","undefined"!=typeof window?window.innerHeight+"px":"100vh",";z-index:0;","")},n.imgContCss=function(e){return e=e||"cover",Object(l.b)("height:","undefined"!=typeof window?window.innerHeight+"px":"100vh",";margin-left:auto;margin-right:auto;.gatsby-image-wrapper{height:100%;img{object-fit:",e,"!important;}}","")},n.videoContCss=function(e){return e=e||"cover",Object(l.b)("height:","undefined"!=typeof window?window.innerHeight+"px":"100vh",";margin-left:auto;margin-right:auto;height:100%;video{object-fit:",e,"!important;}","")},n.resumeButtonCss=function(){return Object(l.b)("width:50px;height:50px;position:absolute;right:70px;top:25px;z-index:1000;transition:opacity 0.3s cubic-bezier(0.71, 0.01, 0.45, 1.01);.on-pause &{opacity:0;}",p.d.Mq.moreTab,"{right:70px;}",p.d.Mq.lessPab,'{right:60px;}label{outline:none;display:block;width:50px;height:50px;cursor:pointer;span{position:relative;display:block;box-sizing:border-box;width:25px;height:30px;margin:0 auto;border-color:transparent transparent transparent #ffffff;transition:100ms all ease;will-change:border-width;border-style:double;border-width:0px 0px 0px 25px;top:50%;transform:translateY(-50%);}}input[type="checkbox"]{visibility:hidden;outline:none;display:none;&:checked+label{span{border-style:solid;border-width:15px 0 15px 25px;}}}',"")},n.closeButtonCss=function(){return f},n.helpButtonCss=function(){return b},n.BlockItem=function(e,t){return void 0===e&&(e=80),void 0===t&&(t=60),Object(l.b)("position:absolute;z-index:100;",p.b.Func.getPcSpVwValue("margin-top",e,t),";&:first-child{margin-top:0px;}","")},n.BlockImageCss=function(){return h},n.DetailBlockCss=function(){return Object(l.b)("position:absolute;z-index:101;height:auto;",p.d.Mq.moreTab,"{width:40vw;bottom:10vh;left:10vw;}",p.d.Mq.lessPab,"{width:88vw;bottom:5vh;left:6vw;}","")},n.ItemCss=function(){return g},n.InnerBlockItemCss=function(e,t){return void 0===e&&(e=30),void 0===t&&(t=10),Object(l.b)(p.b.Func.getPcSpVwValue("margin-top",e,t),";&:first-child{margin-top:0px;}","")},n.resumeClickHandler=function(e){n.metaInfoList[n.currentSlide];return n.indicator.getIsPause()?n.indicator.restart():n.indicator.pause(),!1},n.closeClickHandler=function(){var e=n.props.dispatch,t=p.b.Func.getLangKey();n.indicator.complete();var i=document.querySelector("html"),o=null;i.classList.contains("category-works")?o="works":i.classList.contains("category-journal")?o="journal":i.classList.contains("category-shop")&&(o="shop"),c.b.TrigerFadeTransition("/"+t+"/"+o+"/",e)},n.helpClickHandler=function(){(0,n.props.dispatch)(Object(r.d)({element:d.c}))},n.getElementImage=function(e,t,i,o){var s=m.a.currentType(m.a.lessPab)&&e.imageSp?e.imageSp:e.image;return n.ratio=s&&s.sizes?s.sizes.aspectRatio:1,e.image?e.image.fluid&&e.image.fluid.src?Object(l.c)("div",{css:t,className:"story-item"},Object(l.c)(p.a.ImageElement,{css:[n.imgContCss(e.objectFit),n.ImgCss(),"",""],styles:e,onload:function(e){void 0===e&&(e=o),n.setMedialoaded(o)}})):(n.mediaRefs[o]=!0,n.mediaCounter++,Object(l.c)("div",{css:t,className:"story-item"},Object(l.c)(p.a.VideoElement,{ontimeupdate:function(e,t,i){void 0===i&&(i=o),n.indicator&&n.indicator.update(o,t.target.currentTime)},css:[n.videoContCss(e.objectFit),n.ImgCss(),"",""],styles:e,onloadmetadata:function(e,t,i){void 0===i&&(i=o),n.setVideoMetaData(o,e,t)},onload:function(e,t){void 0===t&&(t=o),n.setMedialoaded(o,e)}}))):""},n.getElementText=function(e,t,n){var i=p.b.Func.getTextType(e.type);return Object(l.c)(i.element,{css:t,styles:e,className:e.class?e.class:""},e.text)},n.getElementLink=function(e,t,n){return Object(l.c)(p.a.LinkElement,{icon:e.icon,css:t,className:e.class,styles:e},e.label)},n.getBlockElement=function(e,t,i){var o=t?n.ItemCss:n.contentWrapperCss,s=t?null:n.ItemCss,a=(t||n.ItemCss,e.childMargin?e.childMargin:15),r=e.childMarginSp?e.childMarginSp:10,c=!1,d=e.body.map((function(e,o){return!e.spacePc&&0!==o&&t&&(e.spacePc=a+" 0 0 0"),!e.spaceSp&&0!==o&&t&&(e.spaceSp=r+" 0 0 0"),"ContentfulElementImage"===e.internal.type?(c=!0,n.getElementImage(e,n.BlockImageCss,!0,i)):"ContentfulElementText"===e.internal.type?n.getElementText(e,t?null:n.ItemCss):"ContentfulElementTextField"===e.internal.type?Object(l.c)(p.a.RichText,{styles:e,css:t?null:n.ItemCss,className:e.class?e.class:""},e.field):"ContentfulElementLink"===e.internal.type?n.getElementLink(e,t?null:n.ItemCss):"ContentfulElementEmbed"===e.internal.type?Object(l.c)(p.a.EmbedElement,{css:s,styles:e}):"ContentfulElementBlock"===e.internal.type?n.getBlockElement(e,!0):void 0}));return i&&!c&&(n.imgLoadedList[i]=!0),Object(l.c)(p.a.BlockElement,{className:"story-item",css:o,styles:e},d)},n.indicatorResume=function(){var e=n.metaInfoList[n.currentSlide];n.mediaRefs[n.currentSlide]&&!e&&console.log("ERROR"),e&&e.instance.play(),n.imgloadStartComplete||n.setLoadImage(),n.indicator.resume(e?e.duration:null)},n.setVideoMetaData=function(e,t,i){t.pause(),n.metaInfoList[e]={instance:t,duration:i}},n.setMedialoaded=function(e,t){(n.imgLoadedList[e]||(n.imgLoadedList[e]=!0),n.imgLoadCheckerFlag&&n.imgLoadedList[n.currentSlide])&&(document.querySelector("html").classList.remove("page-load"),n.indicatorResume())},n.imgLoadedChecker=function(e){(n.imgLoadCheckerFlag=!1,n.imgLoadedList[n.currentSlide])?(document.querySelector("html").classList.remove("page-load"),n.indicatorResume()):(document.querySelector("html").classList.add("page-load"),n.imgLoadCheckerFlag=!0)},n.setLoadImage=function(){var e=Object(i.a)(n);setTimeout((function(){e.loadImage()}),200)},n.loadImage=function(){var e=Object(i.a)(n),t=n.isInitLoadCounter&&n.isInitLoadCounter<e.storyItems.length?n.isInitLoadCounter:e.storyItems.length;e.loadImageCounter<t&&(e.storyItems[e.loadImageCounter].style.display="block",e.loadImageCounter++,e.loadImageCounter==e.storyItems.length?e.imgloadStartComplete=!0:e.isInitLoadCounter==e.loadImageCounter?e.isInitLoadCounter=null:e.setLoadImage())};var o=n.props,s=o.story;o.slug;return n.items=s[0].items,n.indicator=a.a.createRef(),n.storyCont=a.a.createRef(),n.currentSlide=0,n.currentContentName=null,n.itemNum=0,n.counter=0,n.imgLoadedList=[],n.imgLoadCheckerFlag=!1,n.isInitLoadCounter=3,n.state={ready:!1},n.mediaRefs=[],n.mediaCounter=0,n.metaInfoList=[],n.barHeight=0,n.loadImageCounter=1,n.imgloadStartComplete=!1,n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.itemNum=this.items.length,"undefined"!=typeof window&&this.setState({ready:!0}),this.storyItems=document.getLibs.AtomsByClassName("story-item")},n.shouldComponentUpdate=function(e,t){var n=document.querySelector("html");return e.screenH!==this.storyCont.clientHeight?(this.storyCont.style.height=e.screenH+"px",!0):!n.classList.contains("now-transition")&&(this.currentContentName!==e.current?(this.currentContentName=e.current,this.indicator.init(this.itemNum,this.metaInfoList),this.setLoadImage(),this.imgLoadedChecker(!0),!1):!isNaN(e.sliderId)&&(this.metaInfoList[this.currentSlide]&&this.metaInfoList[this.currentSlide].instance.pause(),this.currentSlide=e.sliderId,this.imgLoadedChecker(),!0))},n.render=function(){var e=this,t=this.props,n=(t.story,t.slug,t.next),i=t.prev,o=t.category,s=this.items;return this.mediaCounter=0,Object(l.c)("div",{css:this.storyContCss,ref:function(t){e.storyCont=t}},Object(l.c)(d.q,{len:s.length,next:n,prev:i,category:o,ref:function(t){e.indicator=t}}),Object(l.c)("div",{className:"playpause bc-button",css:this.resumeButtonCss},Object(l.c)("input",{className:"bc-button",type:"checkbox",value:"None",id:"playpause",name:"check"}),Object(l.c)("label",{className:"bc-button",for:"playpause",tabindex:"1",onClick:function(t){return e.resumeClickHandler(),t.stopPropagation(),!1}},Object(l.c)("span",{className:"bc-button"}))),Object(l.c)(p.a.ButtonClose,{css:this.closeButtonCss,color:"#fff",activeClass:"on-story",clickHandler:this.closeClickHandler}),Object(l.c)(p.a.LinkElement,{onClick:function(t){return e.helpClickHandler(),!1},styles:{url:"",fontPc:{fontSize:20,bold:!0,color:"#fff",letterSpacing:1},fontSp:{fontSize:20,bold:!0,color:"#fff",letterSpacing:1}},css:this.helpButtonCss},"HELP"),Object(l.c)("div",{css:this.contentContCss},s&&s.map((function(t,n){return"ContentfulElementBlock"===t.__typename?e.getBlockElement(t,!1,n):"ContentfulElementImage"===t.__typename?e.getElementImage(t,e.contentWrapperCss,!1,n):void 0}))))},t}(s.PureComponent);Object(u.b)((function(e,t){return{sliderId:Number(e.SliderReducer.sliderId),current:e.TransitionReducer.current,screenH:e.ResizeReducer.screenHeight}}))(v)}}]);
//# sourceMappingURL=b650454d-679f4430d1f0aa7eb635.js.map